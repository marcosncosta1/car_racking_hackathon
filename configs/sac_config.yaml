# SAC Configuration for Car Racing

# Environment settings
env_name: "CarRacing-v3"
render_mode: "rgb_array"
seed: 42

# Network architecture
actor_architecture:
  conv_layers:
    - [32, 8, 4]  # [out_channels, kernel_size, stride]
    - [64, 4, 2]
    - [64, 3, 1]
  fc_hidden: 512
  activation: "relu"

critic_architecture:
  conv_layers:
    - [32, 8, 4]
    - [64, 4, 2]
    - [64, 3, 1]
  fc_hidden: 512
  action_fc: 64
  activation: "relu"

# Training hyperparameters
training:
  num_episodes: 2000
  max_steps_per_episode: 1000
  batch_size: 256
  replay_buffer_size: 1000000
  learning_starts: 10000
  train_frequency: 1
  gradient_steps: 1

# Learning rates
learning_rates:
  actor: 0.0003
  critic: 0.0003
  alpha: 0.0003  # Temperature parameter learning rate

# SAC specific
sac:
  gamma: 0.99
  tau: 0.005

  # Automatic temperature tuning
  auto_alpha: true
  target_entropy: -3  # -dim(action_space)
  initial_alpha: 0.2

  # Twin Q-networks
  twin_q: true

  # Gradient clipping
  grad_clip: 1.0

# Preprocessing
preprocessing:
  grayscale: false
  normalize: true
  frame_skip: 0
  frame_stack: 1

# Reward shaping
reward_shaping:
  enabled: false
  negative_reward_penalty: 1.0
  speed_bonus: 0.0

# Checkpointing
checkpoint:
  save_frequency: 50
  save_dir: "models/"
  keep_best: true

# Logging
logging:
  log_frequency: 10
  tensorboard: true
  log_dir: "results/logs/"

# Evaluation
evaluation:
  eval_frequency: 100
  num_eval_episodes: 5
  render_eval: false
